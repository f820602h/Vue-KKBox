(function(t){function e(e){for(var n,a,c=e[0],o=e[1],l=e[2],u=0,p=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,a=1;a<r.length;a++){var c=r[a];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},a={app:0},i={app:0},s=[];function c(t){return o.p+"js/"+({Search:"Search",SongList:"SongList"}[t]||t)+"."+{Search:"47e067cf",SongList:"d0c21e35"}[t]+".js"}function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[],r={Search:1,SongList:1};a[t]?e.push(a[t]):0!==a[t]&&r[t]&&e.push(a[t]=new Promise((function(e,r){for(var n="css/"+({Search:"Search",SongList:"SongList"}[t]||t)+"."+{Search:"c1c9c25b",SongList:"cc9a8cc2"}[t]+".css",i=o.p+n,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var l=s[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===i))return e()}var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++){l=p[c],u=l.getAttribute("data-href");if(u===n||u===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[t],d.parentNode.removeChild(d),r(s)},d.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){a[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,r){n=i[t]=[e,r]}));e.push(n[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=c(t);var p=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(d);var r=i[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",p.name="ChunkLoadError",p.type=n,p.request=a,r[1](p)}i[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/Vue-KKBox/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var p=0;p<l.length;p++)e(l[p]);var d=u;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"25ed":function(t,e,r){"use strict";var n=r("9565"),a=r.n(n);a.a},"2a6c":function(t,e,r){"use strict";var n=r("5226"),a=r.n(n);a.a},3065:function(t,e,r){},4939:function(t,e,r){},5226:function(t,e,r){},"548f":function(t,e,r){"use strict";var n=r("3065"),a=r.n(n);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"bgAnimat"}),r("Navbar"),r("div",{staticClass:"container padding"},[t.ready?r("router-view"):r("div",{staticClass:"loading d-flex justify-content-center align-items-center text-white h3"},[t._v(" 載入中... ")])],1),r("MusicPlayer"),t.ready?r("Footer"):t._e()],1)},i=[],s=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("96cf"),r("ade3")),c=r("2f62"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"nav"},[r("nav",{staticClass:"navbar navbar-expand-lg w-100 navbar-dark bg-dark"},[r("div",{staticClass:"container"},[r("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("KK聽歌榜")]),t._m(0),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[t._m(1),r("div",{staticClass:"form-inline my-2 my-lg-0"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchText,expression:"searchText",modifiers:{trim:!0}}],staticClass:"form-control mr-sm-2",attrs:{type:"text",placeholder:"輸入關鍵字搜尋歌曲"},domProps:{value:t.searchText},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.searchText=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),r("button",{staticClass:"btn btn-outline-info my-2 my-sm-0",on:{click:t.search}},[t._v("搜尋")])])])],1)])])},l=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent"}},[r("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"navbar-nav mr-auto"},[r("li",{staticClass:"nav-item active"})])}],u={name:"Navbar",data:function(){return{searchText:""}},methods:{search:function(){return this.searchText&&(this.$router.push("/Search?find=".concat(this.searchText)).catch((function(){})),this.searchText=""),!1}}},p=u,d=(r("b10f"),r("2877")),f=Object(d["a"])(p,o,l,!1,null,"5a10c0bd",null),h=f.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"player"},["kkbox"==t.playerType?r("object",{staticClass:"kkbox",attrs:{type:"text/html",data:t.setPlayListPlayer}},[r("param",{attrs:{name:"autoplay",value:"true"}})]):t._e(),"youtube"==t.playerType?r("object",{staticClass:"youtube",attrs:{id:"player",type:"text/html",width:"640",height:"390",data:t.setVideoPlayer,frameborder:"0"}}):t._e()])},b=[];function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g={name:"Player",computed:v({},Object(c["e"])({playerType:"playerType",setMusicPlayer:function(t){return"https://widget.kkbox.com/v1/?id=".concat(t.musicId,"&type=song&terr=TW&lang=TC&autoplay=1")},setPlayListPlayer:function(t){return"https://widget.kkbox.com/v1/?id=".concat(t.listId,"&type=playlist&terr=TW&lang=TC&autoplay=1")},setVideoPlayer:function(t){return"https://www.youtube.com/embed/".concat(t.videoId,"?autoplay=1&theme=light")}}))},O=g,_=(r("d224"),Object(d["a"])(O,m,b,!1,null,"84a5a7c0",null)),w=_.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"footer bg-dark py-5"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[t._m(0),t._m(1),r("div",{staticClass:"form-inline justify-content-end align-items-end col-6"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchText,expression:"searchText",modifiers:{trim:!0}}],staticClass:"form-control mr-sm-2",attrs:{type:"text",placeholder:"輸入關鍵字搜尋歌曲"},domProps:{value:t.searchText},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.searchText=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),r("button",{staticClass:"btn btn-outline-info my-2 my-sm-0",on:{click:t.search}},[t._v("搜尋")])])])])])},j=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-3"},[r("h4",{staticClass:"text-light font-weight-bold"},[t._v("技術運用")]),r("hr"),r("ul",{staticClass:"list-group list-unstyled"},[r("li",[r("p",{staticClass:"text-light"},[t._v("KKBOX Open API")])]),r("li",[r("p",{staticClass:"text-light"},[t._v("YouTube Data API")])]),r("li",[r("p",{staticClass:"text-light"},[t._v("Vue Cli 3")])])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-3"},[r("h4",{staticClass:"text-light font-weight-bold"},[t._v("參考資源")]),r("hr"),r("ul",{staticClass:"list-group list-unstyled"},[r("li",[r("p",{staticClass:"text-light"},[t._v("六角學院")])]),r("li",[r("p",{staticClass:"text-light"},[t._v("KKBOX API Reference")])]),r("li",[r("p",{staticClass:"text-light"},[t._v("Google API Reference")])])])])}],T={name:"Footer",data:function(){return{searchText:""}},methods:{search:function(){return this.searchText&&(this.$router.push("/Search?find=".concat(this.searchText)).catch((function(){})),this.searchText=""),!1}}},S=T,x=(r("548f"),Object(d["a"])(S,C,j,!1,null,"7495dee2",null)),P=x.exports;function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var D={components:{Navbar:h,MusicPlayer:w,Footer:P},computed:k({},Object(c["e"])(["ready"])),mounted:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.GET_TOKEN());case 2:return t.next=4,regeneratorRuntime.awrap(this.GET_CHARTS());case 4:this.SET_READY();case 5:case"end":return t.stop()}}),null,this)},methods:k({},Object(c["b"])(["GET_TOKEN","GET_CHARTS"]),{},Object(c["d"])(["SET_READY"]))},A=D,L=(r("5c0b"),Object(d["a"])(A,a,i,!1,null,null,null)),I=L.exports,N=r("8c4f"),K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chart"},[r("div",{staticClass:"d-flex align-items-center justify-content-between mt-5"},[r("h2",{staticClass:"text-light font-weight-bold"},[t._v("綜合新歌 TOP 5")]),r("router-link",{staticClass:"btn btn-outline-light",attrs:{to:"/SongList?id=LZPhK2EyYzN15dU-PT&title=綜合新歌即時榜"}},[t._v("完整榜單")])],1),r("hr"),r("ListTable",{attrs:{listData:t.NewSongList,start:1}}),r("h2",{staticClass:"mt-5 text-light font-weight-bold"},[t._v("新歌日榜")]),r("hr"),r("CardGroup",{attrs:{listData:t.newCharts}}),r("h2",{staticClass:"mt-5 text-light font-weight-bold"},[t._v("單曲日榜")]),r("hr"),r("CardGroup",{attrs:{listData:t.dailyCharts}}),r("h2",{staticClass:"mt-5 text-light font-weight-bold"},[t._v("曲風週榜")]),r("hr"),r("CardGroup",{attrs:{listData:t.weeklyCharts}})],1)},$=[],R=(r("fb6a"),r("8785")),G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"d-flex flex-wrap mt-3"},t._l(t.listData,(function(e){return r("div",{key:e.description,staticClass:"card mb-2",staticStyle:{width:"18rem"}},[r("router-link",{staticClass:"link",attrs:{to:"/SongList?id="+e.id+"&title="+e.title}},[r("img",{staticClass:"card-img-top",attrs:{src:e.images[2].url}}),r("div",{staticClass:"card-body p-2"},[r("p",{staticClass:"card-text text-center"},[t._v(t._s(e.title))])])])],1)})),0)])},B=[],M={name:"CardGroup",props:{listData:{type:Array,required:!0}}},Y=M,q=(r("9021"),Object(d["a"])(Y,G,B,!1,null,"3996de25",null)),V=q.exports;function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var z={name:"Chart",data:function(){return{NewSongList:[]}},components:{CardGroup:V,ListTable:R["a"]},computed:H({},Object(c["e"])({dailyCharts:function(t){return t.charts.slice(1,6)},newCharts:function(t){return t.charts.slice(7,12)},weeklyCharts:function(t){return t.charts.slice(13,23)}}),{},Object(c["c"])(["getApiConfig"])),methods:{getNewSongChart:function(){var t=this,e=this.getApiConfig;this.$http.get("https://api.kkbox.com/v1.1/charts/LZPhK2EyYzN15dU-PT/tracks?territory=TW&limit=5",e).then((function(e){t.NewSongList=e.data.data}))}},mounted:function(){this.getNewSongChart()}},W=z,F=(r("2a6c"),Object(d["a"])(W,K,$,!1,null,"7bccbbd5",null)),J=F.exports;n["a"].use(N["a"]);var X=[{path:"/",name:"Chart",component:J},{path:"/SongList",name:"SongList",component:function(){return r.e("SongList").then(r.bind(null,"4c86"))}},{path:"/Search",name:"Search",component:function(){return r.e("Search").then(r.bind(null,"49a8"))}},{path:"*",redirect:"/"}],Z=new N["a"]({mode:"hash",base:"/Vue-KKBox/",routes:X}),Q=Z,tt=r("72bf"),et=r.n(tt),rt=r("bc3a"),nt=r.n(rt);n["a"].use(c["a"]);var at=new c["a"].Store({state:{ready:!1,token:"",key:"AIzaSyCW_sKFqpwDdBimQCRRwxGMhBU-L1Kcwjc",musicId:"",listId:"",videoId:"",playerType:"",charts:[]},getters:{getApiConfig:function(t){return{headers:{Authorization:"Bearer ".concat(t.token)}}}},mutations:{SET_READY:function(t){t.ready=!0},SET_TOKEN:function(t,e){t.token=e},SET_CHARTS:function(t,e){t.charts=e},SET_MUSIC_ID:function(t,e){t.musicId=e},SET_LIST_ID:function(t,e){t.listId=e},SET_VIDEO_ID:function(t,e){t.videoId=e},SET_PLAYER_TYPE:function(t,e){t.playerType=e}},actions:{GET_TOKEN:function(t){t.state;var e=t.commit,r={headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},crossdomain:!0},n={grant_type:"client_credentials",client_id:"ad8b3eaf6681e082f7f7ca1a88c31ade",client_secret:"33632c90f85e9c11c7938096ca9174aa"};return new Promise((function(t,a){nt.a.post("https://all-the-cors.herokuapp.com/https://account.kkbox.com/oauth2/token",et.a.stringify(n),r).then((function(r){e("SET_TOKEN",r.data.access_token),t(r)}))}))},GET_CHARTS:function(t){t.state;var e=t.getters,r=t.commit;return new Promise((function(t,n){nt.a.get("https://api.kkbox.com/v1.1/charts?territory=TW",e.getApiConfig).then((function(e){r("SET_CHARTS",e.data.data),t(e)}))}))}}}),it=r("a7fe"),st=r.n(it),ct=r("15fd"),ot=r.n(ct),lt=(r("21b6"),r("4989"),{apiKey:"AIzaSyB1_z4DTc1TjBEkknWUpYjVqc7cN96HlnM",clientId:"984555341743-ai36q2808ihele8mt1f5rln93l3faedq.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],scope:"https://www.googleapis.com/auth/youtube.force-ssl"});n["a"].use(ot.a,lt),n["a"].config.productionTip=!1,n["a"].use(st.a,nt.a),new n["a"]({router:Q,store:at,render:function(t){return t(I)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},8785:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"other"},t._l(t.listData,(function(e,n){return r("div",{key:e.id,on:{click:function(r){return t.playSong(e.id,e.name)}}},[r("div",{staticClass:"card flex-row h-100 mt-3"},[r("div",{staticClass:"rank"},[r("h4",{staticClass:"d-flex justify-content-center align-items-center"},[t._v(t._s(n+t.start))])]),r("div",[r("img",{staticClass:"card-img-top",attrs:{src:e.album.images[0].url,alt:""}})]),r("div",{staticClass:"card-body"},[r("h5",[t._v(t._s(e.name))]),r("p",{staticClass:"card-text"},[t._v(t._s(e.album.artist.name))])])])])})),0)])},a=[],i=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("a9e3"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),s=r("2f62");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l={name:"ListTable",props:{listData:{type:Array,required:!0},start:{type:Number,required:!0}},computed:o({},Object(s["e"])(["key"])),methods:{playSong:function(t,e){this.$store.commit("SET_MUSIC_ID",t),this.getAllVideoId(e)},playListSong:function(t){this.$store.commit("SET_VIDEO_ID",t),this.$store.commit("SET_PLAYER_TYPE","youtube")},getAllVideoId:function(t){var e=this;this.$http.get("https://www.googleapis.com/youtube/v3/search?key=".concat(this.key,"&part=snippet&type=video&q=").concat(t)).then((function(t){e.playListSong(t.data.items[0].id.videoId)}))}}},u=l,p=(r("25ed"),r("2877")),d=Object(p["a"])(u,n,a,!1,null,"1336cfb5",null);e["a"]=d.exports},9021:function(t,e,r){"use strict";var n=r("4939"),a=r.n(n);a.a},9565:function(t,e,r){},"9c0c":function(t,e,r){},b10f:function(t,e,r){"use strict";var n=r("d988"),a=r.n(n);a.a},d08c:function(t,e,r){},d224:function(t,e,r){"use strict";var n=r("d08c"),a=r.n(n);a.a},d988:function(t,e,r){}});
//# sourceMappingURL=app.4d31d4b3.js.map