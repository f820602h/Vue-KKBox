(function(t){function e(e){for(var n,a,c=e[0],s=e[1],u=e[2],l=0,p=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var c=r[a];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},o={app:0},i=[];function c(t){return s.p+"js/"+({Search:"Search",SongList:"SongList"}[t]||t)+"."+{Search:"483b8db1",SongList:"dae08adb"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(t){var e=[],r={Search:1,SongList:1};a[t]?e.push(a[t]):0!==a[t]&&r[t]&&e.push(a[t]=new Promise((function(e,r){for(var n="css/"+({Search:"Search",SongList:"SongList"}[t]||t)+"."+{Search:"c1c9c25b",SongList:"cc9a8cc2"}[t]+".css",o=s.p+n,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===o))return e()}var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++){u=p[c],l=u.getAttribute("data-href");if(l===n||l===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[t],d.parentNode.removeChild(d),r(i)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){a[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(t);var p=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",p.name="ChunkLoadError",p.type=n,p.request=a,r[1](p)}o[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var p=0;p<u.length;p++)e(u[p]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"25ed":function(t,e,r){"use strict";var n=r("9565"),a=r.n(n);a.a},"2a6c":function(t,e,r){"use strict";var n=r("5226"),a=r.n(n);a.a},"426c":function(t,e,r){"use strict";var n=r("89df"),a=r.n(n);a.a},4939:function(t,e,r){},5226:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"bgAnimat"}),r("Navbar"),r("div",{staticClass:"container padding"},[t.ready?r("router-view"):t._e()],1),r("MusicPlayer")],1)},o=[],i=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("96cf"),r("ade3")),c=r("2f62"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"nav"},[r("nav",{staticClass:"navbar navbar-expand-lg w-100 navbar-dark bg-dark"},[r("div",{staticClass:"container"},[r("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("KK聽歌榜")]),t._m(0),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[t._m(1),r("div",{staticClass:"form-inline my-2 my-lg-0"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchText,expression:"searchText",modifiers:{trim:!0}}],staticClass:"form-control mr-sm-2",attrs:{type:"text",placeholder:"輸入關鍵字搜尋歌曲"},domProps:{value:t.searchText},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.searchText=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),r("button",{staticClass:"btn btn-outline-info my-2 my-sm-0",on:{click:t.search}},[t._v("搜尋")])])])],1)])])},u=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent"}},[r("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"navbar-nav mr-auto"},[r("li",{staticClass:"nav-item active"})])}],l={name:"Navbar",data:function(){return{searchText:""}},methods:{search:function(){return this.searchText&&(this.$router.push("/Search?find=".concat(this.searchText)).catch((function(){})),this.searchText=""),!1}}},p=l,d=(r("426c"),r("2877")),f=Object(d["a"])(p,s,u,!1,null,"6f3f2374",null),h=f.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"player"},["kkbox"==t.playerType?r("object",{staticClass:"kkbox",attrs:{type:"text/html",data:t.setPlayListPlayer}},[r("param",{attrs:{name:"autoplay",value:"true"}})]):t._e(),"youtube"==t.playerType?r("object",{staticClass:"youtube",attrs:{id:"player",type:"text/html",width:"640",height:"390",data:t.setVideoPlayer,frameborder:"0"}}):t._e()])},y=[];function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v={name:"Player",computed:g({},Object(c["e"])({playerType:"playerType",setMusicPlayer:function(t){return"https://widget.kkbox.com/v1/?id=".concat(t.musicId,"&type=song&terr=TW&lang=TC&autoplay=1")},setPlayListPlayer:function(t){return"https://widget.kkbox.com/v1/?id=".concat(t.listId,"&type=playlist&terr=TW&lang=TC&autoplay=1")},setVideoPlayer:function(t){return"http://www.youtube.com/embed/".concat(t.videoId,"?autoplay=1&theme=light")}}))},O=v,w=(r("9a83"),Object(d["a"])(O,b,y,!1,null,"2f0ffb59",null)),_=w.exports;function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var S={components:{Navbar:h,MusicPlayer:_},computed:C({},Object(c["e"])(["ready"])),mounted:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.GET_TOKEN());case 2:return t.next=4,regeneratorRuntime.awrap(this.GET_CHARTS());case 4:this.SET_READY();case 5:case"end":return t.stop()}}),null,this)},methods:C({},Object(c["b"])(["GET_TOKEN","GET_CHARTS"]),{},Object(c["d"])(["SET_READY"]))},T=S,P=(r("5c0b"),Object(d["a"])(T,a,o,!1,null,null,null)),E=P.exports,k=r("8c4f"),x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chart"},[r("div",{staticClass:"d-flex align-items-center justify-content-between mt-5"},[r("h2",{staticClass:"text-light font-weight-bold"},[t._v("綜合新歌 TOP 5")]),r("router-link",{staticClass:"btn btn-outline-light",attrs:{to:"/SongList?id=LZPhK2EyYzN15dU-PT&title=綜合新歌即時榜"}},[t._v("完整榜單")])],1),r("hr"),r("ListTable",{attrs:{listData:t.NewSongList,start:1}}),r("h2",{staticClass:"mt-5 text-light font-weight-bold"},[t._v("新歌日榜")]),r("hr"),r("CardGroup",{attrs:{listData:t.newCharts}}),r("h2",{staticClass:"mt-5 text-light font-weight-bold"},[t._v("單曲日榜")]),r("hr"),r("CardGroup",{attrs:{listData:t.dailyCharts}}),r("h2",{staticClass:"mt-5 text-light font-weight-bold"},[t._v("曲風週榜")]),r("hr"),r("CardGroup",{attrs:{listData:t.weeklyCharts}})],1)},D=[],L=(r("fb6a"),r("8785")),A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"d-flex flex-wrap mt-3"},t._l(t.listData,(function(e){return r("div",{key:e.description,staticClass:"card mb-2",staticStyle:{width:"18rem"}},[r("router-link",{staticClass:"link",attrs:{to:"/SongList?id="+e.id+"&title="+e.title}},[r("img",{staticClass:"card-img-top",attrs:{src:e.images[2].url}}),r("div",{staticClass:"card-body p-2"},[r("p",{staticClass:"card-text text-center"},[t._v(t._s(e.title))])])])],1)})),0)])},I=[],N={name:"CardGroup",props:{listData:{type:Array,required:!0}}},$=N,R=(r("9021"),Object(d["a"])($,A,I,!1,null,"3996de25",null)),K=R.exports;function G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function M(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?G(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var q={name:"Chart",data:function(){return{NewSongList:[]}},components:{CardGroup:K,ListTable:L["a"]},computed:M({},Object(c["e"])({dailyCharts:function(t){return t.charts.slice(1,6)},newCharts:function(t){return t.charts.slice(7,12)},weeklyCharts:function(t){return t.charts.slice(13,23)}}),{},Object(c["c"])(["getApiConfig"])),methods:{getNewSongChart:function(){var t=this,e=this.getApiConfig;this.$http.get("https://api.kkbox.com/v1.1/charts/LZPhK2EyYzN15dU-PT/tracks?territory=TW&limit=5",e).then((function(e){t.NewSongList=e.data.data}))}},mounted:function(){this.getNewSongChart()}},Y=q,B=(r("2a6c"),Object(d["a"])(Y,x,D,!1,null,"7bccbbd5",null)),U=B.exports;n["a"].use(k["a"]);var H=[{path:"/",name:"Chart",component:U},{path:"/SongList",name:"SongList",component:function(){return r.e("SongList").then(r.bind(null,"4c86"))}},{path:"/Search",name:"Search",component:function(){return r.e("Search").then(r.bind(null,"49a8"))}},{path:"*",redirect:"/"}],V=new k["a"]({mode:"history",base:"",routes:H}),z=V,W=r("72bf"),F=r.n(W),J=r("bc3a"),Z=r.n(J);n["a"].use(c["a"]);var Q=new c["a"].Store({state:{ready:!1,token:"",key:"AIzaSyCW_sKFqpwDdBimQCRRwxGMhBU-L1Kcwjc",musicId:"",listId:"",videoId:"",playerType:"",charts:[]},getters:{getApiConfig:function(t){return{headers:{Authorization:"Bearer ".concat(t.token)}}}},mutations:{SET_READY:function(t){t.ready=!0},SET_TOKEN:function(t,e){t.token=e},SET_CHARTS:function(t,e){t.charts=e},SET_MUSIC_ID:function(t,e){t.musicId=e},SET_LIST_ID:function(t,e){t.listId=e},SET_VIDEO_ID:function(t,e){t.videoId=e},SET_PLAYER_TYPE:function(t,e){t.playerType=e}},actions:{GET_TOKEN:function(t){t.state;var e=t.commit,r={headers:{Accept:"application/x-www-form-urlencoded","Coutent-Type":"application/x-www-form-urlencoded"}},n={grant_type:"client_credentials",client_id:"3ff2253ebfd6daf6ba80564803a8a673",client_secret:"aae46637ec523c3e3b15b610645fe830"};return new Promise((function(t,a){Z.a.post("/token",F.a.stringify(n),r).then((function(r){e("SET_TOKEN",r.data.access_token),t(r)}))}))},GET_CHARTS:function(t){t.state;var e=t.getters,r=t.commit;return new Promise((function(t,n){Z.a.get("https://api.kkbox.com/v1.1/charts?territory=TW",e.getApiConfig).then((function(e){r("SET_CHARTS",e.data.data),t(e)}))}))}}}),X=r("a7fe"),tt=r.n(X),et=r("15fd"),rt=r.n(et),nt=(r("21b6"),r("4989"),{apiKey:"AIzaSyB1_z4DTc1TjBEkknWUpYjVqc7cN96HlnM",clientId:"984555341743-ai36q2808ihele8mt1f5rln93l3faedq.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],scope:"https://www.googleapis.com/auth/youtube.force-ssl"});n["a"].use(rt.a,nt),n["a"].config.productionTip=!1,n["a"].use(tt.a,Z.a),new n["a"]({router:z,store:Q,render:function(t){return t(E)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},8785:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"other"},t._l(t.listData,(function(e,n){return r("div",{key:e.id,on:{click:function(r){return t.playSong(e.id,e.name)}}},[r("div",{staticClass:"card flex-row h-100 mt-3"},[r("div",{staticClass:"rank"},[r("h4",{staticClass:"d-flex justify-content-center align-items-center"},[t._v(t._s(n+t.start))])]),r("div",[r("img",{staticClass:"card-img-top",attrs:{src:e.album.images[0].url,alt:""}})]),r("div",{staticClass:"card-body"},[r("h5",[t._v(t._s(e.name))]),r("p",{staticClass:"card-text"},[t._v(t._s(e.album.artist.name))])])])])})),0)])},a=[],o=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("a9e3"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),i=r("2f62");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={name:"ListTable",props:{listData:{type:Array,required:!0},start:{type:Number,required:!0}},computed:s({},Object(i["e"])(["key"])),methods:{playSong:function(t,e){this.$store.commit("SET_MUSIC_ID",t),this.getAllVideoId(e)},playListSong:function(t){this.$store.commit("SET_VIDEO_ID",t),this.$store.commit("SET_PLAYER_TYPE","youtube")},getAllVideoId:function(t){var e=this;this.$http.get("https://www.googleapis.com/youtube/v3/search?key=".concat(this.key,"&part=snippet&type=video&q=").concat(t)).then((function(t){e.playListSong(t.data.items[0].id.videoId)}))}}},l=u,p=(r("25ed"),r("2877")),d=Object(p["a"])(l,n,a,!1,null,"1336cfb5",null);e["a"]=d.exports},"89df":function(t,e,r){},9021:function(t,e,r){"use strict";var n=r("4939"),a=r.n(n);a.a},9565:function(t,e,r){},"9a83":function(t,e,r){"use strict";var n=r("e55f"),a=r.n(n);a.a},"9c0c":function(t,e,r){},e55f:function(t,e,r){}});
//# sourceMappingURL=app.138e92a0.js.map