{"version":3,"sources":["webpack:///./src/views/SongList.vue?bd67","webpack:///./src/components/TopThreeCard.vue?6540","webpack:///src/components/TopThreeCard.vue","webpack:///./src/components/TopThreeCard.vue?69cb","webpack:///./src/components/TopThreeCard.vue","webpack:///src/views/SongList.vue","webpack:///./src/views/SongList.vue?add9","webpack:///./src/views/SongList.vue","webpack:///./src/components/TopThreeCard.vue?9338","webpack:///./src/views/SongList.vue?5962","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","title","on","playKKlist","attrs","topThree","other","staticRenderFns","_l","item","index","key","id","$event","playSong","name","album","images","url","artist","props","listData","type","Array","required","computed","methods","$store","commit","getAllVideoId","playListSong","playListID","$http","get","component","data","videoIdList","access_token","components","ListTable","TopThreeCard","slice","getSongLsit","forEach","login","$isAuthenticated","$login","$getGapiClient","then","createPlayList","snippet","description","tags","defaultLanguage","status","post","addSong","playlistId","position","resourceId","$route","query","mounted","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error"],"mappings":"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","file":"js/SongList.dae08adb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex align-items-center justify-content-between mt-5\"},[_c('h1',{staticClass:\"text-light font-weight-bold\"},[_vm._v(_vm._s(_vm.title))]),_c('button',{staticClass:\"btn btn-outline-light\",on:{\"click\":_vm.playKKlist}},[_vm._v(\"試聽此歌單\")])]),_c('hr'),_c('TopThreeCard',{attrs:{\"listData\":_vm.topThree}}),_c('ListTable',{attrs:{\"listData\":_vm.other,\"start\":4}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"topThree my-5 row justify-content-center\"},_vm._l((_vm.listData),function(item,index){return _c('div',{key:item.id,staticClass:\"col-4\",on:{\"click\":function($event){return _vm.playSong(item.id, item.name)}}},[_c('div',{staticClass:\"card h-100\"},[_c('img',{staticClass:\"card-img-top\",attrs:{\"src\":item.album.images[1].url,\"alt\":\"\"}}),_c('div',{staticClass:\"d-flex\"},[_c('h4',{staticClass:\"topRank d-flex justify-content-center align-items-center mb-0\"},[_vm._v(_vm._s(index+1))]),_c('div',{staticClass:\"card-body pl-0\"},[_c('h5',[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(item.album.artist.name))])])])])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"topThree my-5 row justify-content-center\">\n      <div class=\"col-4\" v-for=\"(item, index) in listData\" :key=\"item.id\" @click=\"playSong(item.id, item.name)\">\n        <div class=\"card h-100\" >\n          <img class=\"card-img-top\" :src=\"item.album.images[1].url\" alt=\"\">\n          <div class=\"d-flex\">\n            <h4 class=\"topRank d-flex justify-content-center align-items-center mb-0\">{{ index+1 }}</h4>\n            <div class=\"card-body pl-0\">\n              <h5>{{ item.name }}</h5>\n              <p class=\"card-text\">{{ item.album.artist.name }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  name: 'TopThree',\n  props: {\n    listData: {\n      type: Array,\n      required: true\n    }\n  },\n  computed: {\n    ...mapState(['key'])\n  },\n  methods: {\n    playSong (id, name) {\n      this.$store.commit('SET_MUSIC_ID', id)\n      this.getAllVideoId(name)\n    },\n    playListSong (playListID) {\n      this.$store.commit('SET_VIDEO_ID', playListID)\n      this.$store.commit('SET_PLAYER_TYPE', 'youtube')\n    },\n    getAllVideoId (name) {\n      this.$http.get(`https://www.googleapis.com/youtube/v3/search?key=${this.key}&part=snippet&type=video&q=${name}`)\n        .then(res => {\n          this.playListSong(res.data.items[0].id.videoId)\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.card{\n  background: rgba(0,0,0,0.5);\n  border: none;\n  border-radius: 10px;\n  overflow: hidden;\n  cursor: pointer;\n}\n.topRank{\n  width: 25%;\n  height: 100%;\n  border-radius: 50%;\n  color: white;\n  font-family: 'Press Start 2P', cursive;\n}\n.topThree{\n  .card-body{\n    max-width: 75%;\n    color: white;\n  }\n}\nh5{\n  width: 100%;\n  overflow:hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.card-text{\n  width: 100%;\n  overflow:hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopThreeCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopThreeCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopThreeCard.vue?vue&type=template&id=0dd1aa2e&scoped=true&\"\nimport script from \"./TopThreeCard.vue?vue&type=script&lang=js&\"\nexport * from \"./TopThreeCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopThreeCard.vue?vue&type=style&index=0&id=0dd1aa2e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0dd1aa2e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"d-flex align-items-center justify-content-between mt-5\">\n      <h1 class=\"text-light font-weight-bold\">{{ title }}</h1>\n      <!-- <button class=\"btn btn-outline-light\" @click=\"login\">全部播放</button> -->\n      <button class=\"btn btn-outline-light\" @click=\"playKKlist\">試聽此歌單</button>\n    </div>\n    <hr>\n    <TopThreeCard :listData=\"topThree\"/>\n    <ListTable :listData=\"other\" :start=\"4\"/>\n  </div>\n</template>\n\n<script>\nimport ListTable from '@/components/ListTable'\nimport TopThreeCard from '@/components/TopThreeCard'\nimport { mapGetters, mapState } from 'vuex'\n\nexport default {\n  data () {\n    return {\n      listData: [],\n      videoIdList: [],\n      title: '',\n      access_token: ''\n    }\n  },\n  components: {\n    ListTable,\n    TopThreeCard\n  },\n  computed: {\n    ...mapGetters(['getApiConfig']),\n    ...mapState(['key']),\n    topThree () {\n      return this.listData.slice(0, 3)\n    },\n    other () {\n      return this.listData.slice(4)\n    }\n  },\n  methods: {\n    // 用KKBOX API取得榜單歌曲\n    getSongLsit (listId) {\n      let config = this.getApiConfig\n      this.$http.get(`https://api.kkbox.com/v1.1/charts/${listId}/tracks?territory=TW&limit=25`, config)\n        .then(res => {\n          this.listData = res.data.data\n        })\n    },\n    // 用榜單歌曲的名字搜尋YouTube影片，取得VideoId\n    getAllVideoId () {\n      this.listData.forEach(song => {\n        this.$http.get(`https://www.googleapis.com/youtube/v3/search?key=${this.key}&part=snippet&type=video&q=${song.name}`)\n          .then(res => {\n            this.videoIdList.push(res.data.items[0].id.videoId)\n          })\n      })\n    },\n    // 登入取得授權\n    login () {\n      if (this.$isAuthenticated() !== true) {\n        this.$login()\n      } else {\n        this.$getGapiClient().then(gapi => {\n          this.access_token = gapi.client.getToken().access_token\n          this.createPlayList()\n        })\n      }\n    },\n    // 創建播放清單\n    createPlayList () {\n      let data = {\n        snippet: {\n          title: this.title,\n          description: this.title,\n          tags: [ this.title ],\n          defaultLanguage: 'tc'\n        },\n        status: { 'privacyStatus': 'private' }\n      }\n      let config = { headers: { Authorization: `Bearer ${this.access_token}` } }\n      this.$http.post(`https://www.googleapis.com/youtube/v3/playlists?part=snippet%2Cstatus&key=${this.key}`, data, config)\n        .then(res => {\n          this.addSong(res.data.id)\n        })\n    },\n    // 把排行榜的所有歌曲加進播放清單\n    addSong (playListID) {\n      this.videoIdList.forEach(video => {\n        let data = {\n          snippet: {\n            playlistId: playListID,\n            position: 0,\n            resourceId: { kind: 'youtube#video', videoId: 'playListID' }\n          }\n        }\n        let config = { headers: { Authorization: `Bearer ${this.access_token}` } }\n        this.$http.post(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=${this.key}`, data, config)\n          .then(() => {\n            this.playListSong(playListID)\n          })\n      })\n    },\n    // 用YouTube播放器播放清單\n    playListSong (playListID) {\n      this.$store.commit('SET_VIDEO_ID', playListID)\n    },\n    playKKlist () {\n      this.$store.commit('SET_LIST_ID', this.$route.query.id)\n      this.$store.commit('SET_PLAYER_TYPE', 'kkbox')\n    }\n  },\n  mounted () {\n    this.getSongLsit(this.$route.query.id)\n    this.title = this.$route.query.title\n  }\n}\n</script>\n\n<style lang=\"scss\" >\nhr{\n  border-top: 1px solid white\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongList.vue?vue&type=template&id=6a169cb5&\"\nimport script from \"./SongList.vue?vue&type=script&lang=js&\"\nexport * from \"./SongList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopThreeCard.vue?vue&type=style&index=0&id=0dd1aa2e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopThreeCard.vue?vue&type=style&index=0&id=0dd1aa2e&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=style&index=0&lang=scss&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}